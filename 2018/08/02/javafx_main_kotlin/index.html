<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>JavaFXä¸Kotlinçš„Mainå‡½æ•° - LeeReindeer&#39;s blog</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="LeeReindeer" /><meta name="description" content="æ™šä¸Šæƒ³åšä¸ªå°åº”ç”¨ï¼Œä¸æƒ³ç”¨ ä¸‘é™‹çš„swingï¼ˆç¡®ä¿¡ï¼‰ã€‚äºæ˜¯è¯•äº†è¯•JavaFXã€‚MVC æ¨¡å¼ï¼ŒXML å’Œ Scene Builder è®¾è®¡ UIï¼Œè®¾è®¡å‡ºçš„ UI é¢œå€¼è¿˜é«˜ã€‚è¿™æ ·ä¸€çœ‹è¿˜æ˜¯æ¯”è¾ƒç†Ÿæ‚‰çš„å˜›ï¼Œå¥½åƒå’Œ Android çš„å¥—è·¯å·®ä¸å¤šã€‚
å½“ç„¶è¿˜æ˜¯è¦ç”¨Kotlinã€‚ä¸è¿‡åœ¨å†™Mainå‡½æ•°çš„æ—¶å€™å°±é‡åˆ°é—®é¢˜äº†ï¼Œç®€ç›´æ°”ç‚¸ï¼ˆ
ä¸‰æ¬¡å°è¯• ä¸€ é¦–å…ˆï¼Œåœ¨ Java é‡Œçš„ä»£ç åº”è¯¥æ˜¯è¿™æ ·çš„ï¼š
1 2 3 4 5 6  public class Main extends Application { //...  public static void main(String[] args) { launch(args); } }   æ²¡æœ‰ä»»ä½•é—®é¢˜ã€‚
é‚£ä¹ˆåœ¨ Kotlin ä¸­ï¼Œæˆ‘é¦–å…ˆæƒ³åˆ°çš„æ˜¯ Top level çš„ Main å‡½æ•°ï¼š
1 2 3 4 5  fun main(args: Array&amp;lt;String&amp;gt;) = Application.launch(*args) class Main : Application() { //... }   " /><meta name="keywords" content="LeeReindeer, Hugo, even" />






<meta name="generator" content="Hugo 0.92.1 with theme even" />


<link rel="canonical" href="https://leer.moe/2018/08/02/javafx_main_kotlin/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="JavaFXä¸Kotlinçš„Mainå‡½æ•°" />
<meta property="og:description" content="æ™šä¸Šæƒ³åšä¸ªå°åº”ç”¨ï¼Œä¸æƒ³ç”¨ ä¸‘é™‹çš„swingï¼ˆç¡®ä¿¡ï¼‰ã€‚äºæ˜¯è¯•äº†è¯•JavaFXã€‚MVC æ¨¡å¼ï¼ŒXML å’Œ Scene Builder  è®¾è®¡ UIï¼Œè®¾è®¡å‡ºçš„ UI é¢œå€¼è¿˜é«˜ã€‚è¿™æ ·ä¸€çœ‹è¿˜æ˜¯æ¯”è¾ƒç†Ÿæ‚‰çš„å˜›ï¼Œå¥½åƒå’Œ Android çš„å¥—è·¯å·®ä¸å¤šã€‚
å½“ç„¶è¿˜æ˜¯è¦ç”¨Kotlinã€‚ä¸è¿‡åœ¨å†™Mainå‡½æ•°çš„æ—¶å€™å°±é‡åˆ°é—®é¢˜äº†ï¼Œç®€ç›´æ°”ç‚¸ï¼ˆ
ä¸‰æ¬¡å°è¯•
ä¸€
é¦–å…ˆï¼Œåœ¨ Java é‡Œçš„ä»£ç åº”è¯¥æ˜¯è¿™æ ·çš„ï¼š


1
2
3
4
5
6


public class Main extends Application {
    //...
    public static void main(String[] args) {
        launch(args);
    }
}


æ²¡æœ‰ä»»ä½•é—®é¢˜ã€‚
é‚£ä¹ˆåœ¨ Kotlin ä¸­ï¼Œæˆ‘é¦–å…ˆæƒ³åˆ°çš„æ˜¯ Top level çš„ Main å‡½æ•°ï¼š


1
2
3
4
5


fun main(args: Array&lt;String&gt;) = Application.launch(*args)

class Main : Application() {
	//...
}


" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://leer.moe/2018/08/02/javafx_main_kotlin/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2018-08-02T20:31:21+00:00" />
<meta property="article:modified_time" content="2018-08-02T20:31:21+00:00" />

<meta itemprop="name" content="JavaFXä¸Kotlinçš„Mainå‡½æ•°">
<meta itemprop="description" content="æ™šä¸Šæƒ³åšä¸ªå°åº”ç”¨ï¼Œä¸æƒ³ç”¨ ä¸‘é™‹çš„swingï¼ˆç¡®ä¿¡ï¼‰ã€‚äºæ˜¯è¯•äº†è¯•JavaFXã€‚MVC æ¨¡å¼ï¼ŒXML å’Œ Scene Builder  è®¾è®¡ UIï¼Œè®¾è®¡å‡ºçš„ UI é¢œå€¼è¿˜é«˜ã€‚è¿™æ ·ä¸€çœ‹è¿˜æ˜¯æ¯”è¾ƒç†Ÿæ‚‰çš„å˜›ï¼Œå¥½åƒå’Œ Android çš„å¥—è·¯å·®ä¸å¤šã€‚
å½“ç„¶è¿˜æ˜¯è¦ç”¨Kotlinã€‚ä¸è¿‡åœ¨å†™Mainå‡½æ•°çš„æ—¶å€™å°±é‡åˆ°é—®é¢˜äº†ï¼Œç®€ç›´æ°”ç‚¸ï¼ˆ
ä¸‰æ¬¡å°è¯•
ä¸€
é¦–å…ˆï¼Œåœ¨ Java é‡Œçš„ä»£ç åº”è¯¥æ˜¯è¿™æ ·çš„ï¼š


1
2
3
4
5
6


public class Main extends Application {
    //...
    public static void main(String[] args) {
        launch(args);
    }
}


æ²¡æœ‰ä»»ä½•é—®é¢˜ã€‚
é‚£ä¹ˆåœ¨ Kotlin ä¸­ï¼Œæˆ‘é¦–å…ˆæƒ³åˆ°çš„æ˜¯ Top level çš„ Main å‡½æ•°ï¼š


1
2
3
4
5


fun main(args: Array&lt;String&gt;) = Application.launch(*args)

class Main : Application() {
	//...
}


"><meta itemprop="datePublished" content="2018-08-02T20:31:21+00:00" />
<meta itemprop="dateModified" content="2018-08-02T20:31:21+00:00" />
<meta itemprop="wordCount" content="925">
<meta itemprop="keywords" content="Kotlin,JavaFX," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="JavaFXä¸Kotlinçš„Mainå‡½æ•°"/>
<meta name="twitter:description" content="æ™šä¸Šæƒ³åšä¸ªå°åº”ç”¨ï¼Œä¸æƒ³ç”¨ ä¸‘é™‹çš„swingï¼ˆç¡®ä¿¡ï¼‰ã€‚äºæ˜¯è¯•äº†è¯•JavaFXã€‚MVC æ¨¡å¼ï¼ŒXML å’Œ Scene Builder  è®¾è®¡ UIï¼Œè®¾è®¡å‡ºçš„ UI é¢œå€¼è¿˜é«˜ã€‚è¿™æ ·ä¸€çœ‹è¿˜æ˜¯æ¯”è¾ƒç†Ÿæ‚‰çš„å˜›ï¼Œå¥½åƒå’Œ Android çš„å¥—è·¯å·®ä¸å¤šã€‚
å½“ç„¶è¿˜æ˜¯è¦ç”¨Kotlinã€‚ä¸è¿‡åœ¨å†™Mainå‡½æ•°çš„æ—¶å€™å°±é‡åˆ°é—®é¢˜äº†ï¼Œç®€ç›´æ°”ç‚¸ï¼ˆ
ä¸‰æ¬¡å°è¯•
ä¸€
é¦–å…ˆï¼Œåœ¨ Java é‡Œçš„ä»£ç åº”è¯¥æ˜¯è¿™æ ·çš„ï¼š


1
2
3
4
5
6


public class Main extends Application {
    //...
    public static void main(String[] args) {
        launch(args);
    }
}


æ²¡æœ‰ä»»ä½•é—®é¢˜ã€‚
é‚£ä¹ˆåœ¨ Kotlin ä¸­ï¼Œæˆ‘é¦–å…ˆæƒ³åˆ°çš„æ˜¯ Top level çš„ Main å‡½æ•°ï¼š


1
2
3
4
5


fun main(args: Array&lt;String&gt;) = Application.launch(*args)

class Main : Application() {
	//...
}


"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">LeeReindeer&#39;s Blog</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/categories/newsletter/">
        <li class="mobile-menu-item">Newsletter</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">About</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">LeeReindeer&#39;s Blog</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/newsletter/">Newsletter</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">About</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">JavaFXä¸Kotlinçš„Mainå‡½æ•°</h1>

      <div class="post-meta">
        <span class="post-time"> 2018-08-02 </span>
        <div class="post-category">
            <a href="/categories/%E8%87%AA%E4%B9%A0%E5%AE%A4/"> è‡ªä¹ å®¤ </a>
            </div>
          <span class="more-meta"> 925 words </span>
          <span class="more-meta"> 2 mins read </span>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  <div class="post-toc-content always-active">
    <nav id="TableOfContents">
  <ol>
    <li><a href="#ä¸‰æ¬¡å°è¯•">ä¸‰æ¬¡å°è¯•</a>
      <ol>
        <li><a href="#ä¸€">ä¸€</a></li>
        <li><a href="#äºŒ">äºŒ</a></li>
        <li><a href="#ä¸‰">ä¸‰</a></li>
      </ol>
    </li>
    <li><a href="#é¢å‘-stack-overflow">é¢å‘ stack overflow</a></li>
  </ol>
</nav>
  </div>
</div>
  <div class="post-outdated">
    <div class="warn">
      <p>[NOTE] Updated <span class="timeago" datetime="2018-08-02T20:31:21" title="August 2, 2018">August 2, 2018</span>. This article may have outdated content or subject matter.</p>
    </div>
  </div>
    <div class="post-content">
      <p>æ™šä¸Šæƒ³åšä¸ªå°åº”ç”¨ï¼Œä¸æƒ³ç”¨ ä¸‘é™‹çš„<code>swing</code>ï¼ˆç¡®ä¿¡ï¼‰ã€‚äºæ˜¯è¯•äº†è¯•<code>JavaFX</code>ã€‚MVC æ¨¡å¼ï¼ŒXML å’Œ <code>Scene Builder</code>  è®¾è®¡ UIï¼Œè®¾è®¡å‡ºçš„ UI é¢œå€¼è¿˜é«˜ã€‚è¿™æ ·ä¸€çœ‹è¿˜æ˜¯æ¯”è¾ƒç†Ÿæ‚‰çš„å˜›ï¼Œå¥½åƒå’Œ Android çš„å¥—è·¯å·®ä¸å¤šã€‚</p>
<p>å½“ç„¶è¿˜æ˜¯è¦ç”¨<code>Kotlin</code>ã€‚ä¸è¿‡åœ¨å†™<code>Main</code>å‡½æ•°çš„æ—¶å€™å°±é‡åˆ°é—®é¢˜äº†ï¼Œç®€ç›´æ°”ç‚¸ï¼ˆ</p>
<h2 id="ä¸‰æ¬¡å°è¯•">ä¸‰æ¬¡å°è¯•</h2>
<h3 id="ä¸€">ä¸€</h3>
<p>é¦–å…ˆï¼Œåœ¨ Java é‡Œçš„ä»£ç åº”è¯¥æ˜¯è¿™æ ·çš„ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Main</span> <span class="kd">extends</span> <span class="n">Application</span> <span class="o">{</span>
    <span class="c1">//...
</span><span class="c1"></span>    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">launch</span><span class="o">(</span><span class="n">args</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>æ²¡æœ‰ä»»ä½•é—®é¢˜ã€‚</p>
<p>é‚£ä¹ˆåœ¨ Kotlin ä¸­ï¼Œæˆ‘é¦–å…ˆæƒ³åˆ°çš„æ˜¯ <code>Top level</code> çš„ Main å‡½æ•°ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-kotlin" data-lang="kotlin"><span class="k">fun</span> <span class="nf">main</span><span class="p">(</span><span class="n">args</span><span class="p">:</span> <span class="n">Array</span><span class="p">&lt;</span><span class="n">String</span><span class="p">&gt;)</span> <span class="p">=</span> <span class="n">Application</span><span class="p">.</span><span class="n">launch</span><span class="p">(*</span><span class="n">args</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">Main</span> <span class="p">:</span> <span class="n">Application</span><span class="p">()</span> <span class="p">{</span>
	<span class="c1">//...
</span><span class="c1"></span><span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>ç»“æœä¼šæŠ¥é”™ï¼š</p>
<p><code>Exception in thread &quot;main&quot; java.lang.RuntimeException: Error: class moe.leer.MainKt is not a subclass of javafx.application.Application</code>ï¼Œå¾ˆæ˜æ˜¾æˆ‘çŒœæƒ³ è¿™ä¸ª<code>Main</code>å‡½æ•°æ˜¯å¦ä¸€ä¸ªç±»çš„ <code>Main</code> å‡½æ•°ï¼Œè€Œä¸æ˜¯ <code>Main</code> ç±»çš„ã€‚</p>
<p>åˆ©ç”¨ IDEA çš„ Kotlin Bytecode å·¥å…·å¯ä»¥çœ‹åˆ°å­—èŠ‚ç ï¼Œå†æŠŠå­—èŠ‚ç åç¼–è¯‘ï¼Œå¯ä»¥çœ‹åˆ° Java çš„å®ç°ã€‚</p>
<p><img src="/images/decompile_kotlin_javafx.png" alt="1533215976909"></p>
<p>Java çš„å®ç°ç¡®å®æ˜¯å†åˆ›å»ºä¸€ä¸ªç±»ï¼Œæ¥å®ç°<code>Top level</code> çš„ Main å‡½æ•°ï¼šï¼‰</p>
<h3 id="äºŒ">äºŒ</h3>
<p>æ¥ä¸‹æ¥å°è¯•äº†<code>companion object </code>:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-kotlin" data-lang="kotlin"><span class="k">class</span> <span class="nc">Main</span> <span class="p">:</span> <span class="n">Application</span><span class="p">()</span> <span class="p">{</span>  
	<span class="c1">//...
</span><span class="c1"></span>    <span class="k">companion</span> <span class="k">object</span> <span class="p">{</span>
    	<span class="nd">@JvmStatic</span> <span class="k">fun</span> <span class="nf">main</span><span class="p">(</span><span class="n">args</span><span class="p">:</span> <span class="n">Array</span><span class="p">&lt;</span><span class="n">String</span><span class="p">&gt;)</span> <span class="p">{</span>
      	<span class="n">launch</span><span class="p">(*</span><span class="n">args</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>ç»“æœç±»ä¼¼ä¸ç¬¬ä¸€ä¸ªå°è¯•ï¼Œè¿˜æ˜¯ç›¸åŒçš„æŠ¥é”™ï¼š<code>java.lang.RuntimeException: Error: class moe.leer.Main$Companion is not a subclass of javafx.application.Application</code>ã€‚é‚£ä¹Ÿå¯ä»¥è‚¯å®š <code>companion object </code>æ˜¯åˆ›å»ºäº†å†…éƒ¨ç±»æ¥å®ç°çš„ã€‚</p>
<h3 id="ä¸‰">ä¸‰</h3>
<p>æœ€åå‡ºåœºçš„æ˜¯<code>object</code>ï¼ŒKotlin é‡Œå•ä¾‹æ¨¡å¼çš„å®ç°ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-kotlin" data-lang="kotlin">
<span class="k">object</span> <span class="nc">Main</span> <span class="p">:</span> <span class="n">Application</span><span class="p">()</span> <span class="p">{</span>

  <span class="k">private</span> <span class="k">lateinit</span> <span class="k">var</span> <span class="py">stage</span><span class="p">:</span> <span class="n">Stage</span>
  <span class="k">private</span> <span class="k">lateinit</span> <span class="k">var</span> <span class="py">rootLayout</span><span class="p">:</span> <span class="n">BorderPane</span>

  <span class="nd">@JvmStatic</span> <span class="k">fun</span> <span class="nf">main</span><span class="p">(</span><span class="n">args</span><span class="p">:</span> <span class="n">Array</span><span class="p">&lt;</span><span class="n">String</span><span class="p">&gt;)</span> <span class="p">{</span>
    <span class="n">launch</span><span class="p">(*</span><span class="n">args</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>è¿™æ¬¡çš„é”™è¯¯ä¿¡æ¯ç»ˆäºå’Œå‰ä¸¤æ¬¡ä¸åŒäº†ï¼ˆç¬‘ï¼‰</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="n">java</span><span class="o">.</span><span class="na">lang</span><span class="o">.</span><span class="na">reflect</span><span class="o">.</span><span class="na">InvocationTargetException</span>
	<span class="n">at</span> <span class="n">com</span><span class="o">.</span><span class="na">sun</span><span class="o">.</span><span class="na">javafx</span><span class="o">.</span><span class="na">application</span><span class="o">.</span><span class="na">LauncherImpl</span><span class="o">.</span><span class="na">launchApplicationWithArgs</span><span class="o">(</span><span class="n">LauncherImpl</span><span class="o">.</span><span class="na">java</span><span class="o">:</span><span class="n">389</span><span class="o">)</span>
	<span class="n">at</span> <span class="n">sun</span><span class="o">.</span><span class="na">launcher</span><span class="o">.</span><span class="na">LauncherHelper$FXHelper</span><span class="o">.</span><span class="na">main</span><span class="o">(</span><span class="n">LauncherHelper</span><span class="o">.</span><span class="na">java</span><span class="o">:</span><span class="n">767</span><span class="o">)</span>
<span class="n">Caused</span> <span class="n">by</span><span class="o">:</span> <span class="n">java</span><span class="o">.</span><span class="na">lang</span><span class="o">.</span><span class="na">RuntimeException</span><span class="o">:</span> <span class="n">Unable</span> <span class="n">to</span> <span class="n">construct</span> <span class="n">Application</span> <span class="n">instance</span><span class="o">:</span> <span class="kd">class</span> <span class="nc">moe</span><span class="o">.</span><span class="na">leer</span><span class="o">.</span><span class="na">Main</span>
</code></pre></td></tr></table>
</div>
</div><p>é‚£ä¹ˆåº”è¯¥æ˜¯åå°„çš„æ—¶å€™ï¼Œè°ƒç”¨<code>Main</code>æ–¹æ³•å¤±è´¥äº†ï¼Œå…³äºåå°„çš„æˆ‘ä¹Ÿæ˜¯æµ…å°è¾„æ­¢ï¼Œæ‰€ä»¥è§£é‡Šä¸äº†äº†ã€‚</p>
<h2 id="é¢å‘-stack-overflow">é¢å‘ stack overflow</h2>
<p><img src="/images/wordless.jpg" alt="wordless"></p>
<p><a href="https://stackoverflow.com/questions/34833258/kotlin-basic-javafx-application">Kotlin. Basic JavaFX application</a>ï¼Œäºæ˜¯å°±æœ‰äº†ã€‚Stack overflow çœŸå¥½å•Šï¼ˆ</p>
<p>è‡³äºæœ€åä¸€æ¬¡ä¸ºä»€ä¹ˆä¼šæŠ¥é”™ï¼Œå¤§ä½¬æ˜¯è¿™æ ·è¯´çš„ï¼šÂ </p>
<blockquote>
<p>anÂ <a href="https://kotlinlang.org/docs/reference/object-declarations.html#object-declarations"><code>object</code>Â declaration</a>Â in Kotlin is a singleton, so it only has one instance constructed by calling the private constructor when the class is initialized. JavaFX is trying to call the constructor of the class reflectively but fails because the constructor is private as it should be.</p>
</blockquote>
<p>ä¸è¿‡æˆ‘åç¼–è¯‘äº†ä¸€ä¸‹å¥½åƒæ²¡æœ‰çœ‹åˆ°æ‰€è¯´çš„<code>private constructor</code>ï¼Œæ‰€ä»¥è¿˜æ˜¯ä¸€çŸ¥åŠè§£äº†ã€‚</p>
<p>ä½†æ˜¯è§£å†³æ–¹æ³•å’Œè¿™ä¸ªæ²¡å…³ç³»ï¼Œåªæ˜¯è°ƒç”¨äº†å¦ä¸€ä¸ª<code>launch</code>å‡½æ•°è€Œå·²ï¼Œä¸è¿‡æœ€ç»ˆéƒ½æ˜¯åå°„æ¥è°ƒç”¨é‡Œé¢çš„æ–¹æ³•å§ã€‚</p>
<p>å¯ä»¥è¿™æ ·å†™ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-kotlin" data-lang="kotlin"><span class="k">class</span> <span class="nc">Main</span> <span class="p">:</span> <span class="n">Application</span><span class="p">()</span> <span class="p">{</span>

  <span class="k">private</span> <span class="k">lateinit</span> <span class="k">var</span> <span class="py">stage</span><span class="p">:</span> <span class="n">Stage</span>
  <span class="k">private</span> <span class="k">lateinit</span> <span class="k">var</span> <span class="py">rootLayout</span><span class="p">:</span> <span class="n">BorderPane</span>

  <span class="k">companion</span> <span class="k">object</span> <span class="p">{</span>
    <span class="nd">@JvmStatic</span> <span class="k">fun</span> <span class="nf">main</span><span class="p">(</span><span class="n">args</span><span class="p">:</span> <span class="n">Array</span><span class="p">&lt;</span><span class="n">String</span><span class="p">&gt;)</span> <span class="p">{</span>
      <span class="n">launch</span><span class="p">(</span><span class="n">Main</span><span class="o">::</span><span class="k">class</span><span class="p">.</span><span class="n">java</span><span class="p">,</span> <span class="p">*</span><span class="n">args</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>ä½ ä¹Ÿå¯ä»¥ç”¨ <code>Top level</code> çš„ Main å‡½æ•°ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-kotlin" data-lang="kotlin"><span class="k">fun</span> <span class="nf">main</span><span class="p">(</span><span class="n">args</span><span class="p">:</span> <span class="n">Array</span><span class="p">&lt;</span><span class="n">String</span><span class="p">&gt;)</span> <span class="p">=</span> <span class="n">Application</span><span class="p">.</span><span class="n">launch</span><span class="p">(</span><span class="n">Main</span><span class="o">::</span><span class="k">class</span><span class="p">.</span><span class="n">java</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>ğŸ‰ğŸ‰ğŸ‰ å¯ä»¥æ…¢æ…¢ç©<code>JavaFX</code>äº†ã€‚</p>
    </div>

    <div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">Author</span>
    <span class="item-content">LeeReindeer</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">LastMod</span>
    <span class="item-content">
        2018-08-02
        
    </span>
  </p>
  
  <p class="copyright-item">
    <span class="item-title">License</span>
    <span class="item-content"><a rel="license noopener" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank">CC BY-NC-ND 4.0</a></span>
  </p>
</div>
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/Kotlin/">Kotlin</a>
          <a href="/tags/JavaFX/">JavaFX</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/2018/09/29/6.828_hw2_shell/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">6.828 Homework 2:Shell</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        <a class="next" href="/2018/07/26/gallery_1/">
            <span class="next-text nav-default">Foggy</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  
    <script src="https://utteranc.es/client.js"
            repo="LeeReindeer/LeeReindeer.github.io"
            issue-term="pathname"
            theme="github-light"
            crossorigin="anonymous"
            async>
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://github.com/utterance">comments powered by utterances.</a></noscript>

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="https://twitter.com/Reindeer000ooo" class="iconfont icon-twitter" title="twitter"></a>
      <a href="https://stackoverflow.com/users/7247458/leer" class="iconfont icon-stack-overflow" title="stack-overflow"></a>
      <a href="https://github.com/LeeReindeer" class="iconfont icon-github" title="github"></a>
  <a href="https://leer.moe/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme -
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy;
    2017 -
    2022<span class="heart"><i class="iconfont icon-heart"></i></span><span>LeeReindeer</span>
  </span>
</div>

<div class="copyright" id="showDays">

</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/timeago.js@3.0.2/dist/timeago.min.js" integrity="sha256-jwCP0NAdCBloaIWTWHmW4i3snUNMHUNO+jr9rYd2iOI=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/timeago.js@3.0.2/dist/timeago.locales.min.js" integrity="sha256-ZwofwC1Lf/faQCzN7nZtfijVV6hSwxjQMwXL4gn9qU8=" crossorigin="anonymous"></script>
  <script><!-- NOTE: timeago.js uses the language code format like "zh_CN" (underscore and case sensitive) -->
    var languageCode = "zh-cn".replace(/-/g, '_').replace(/_(.*)/, function ($0, $1) {return $0.replace($1, $1.toUpperCase());});
    timeago().render(document.querySelectorAll('.timeago'), languageCode);
    timeago.cancel();  
  </script>



<script type="text/javascript" src="/js/main.min.c99b103c33d1539acf3025e1913697534542c4a5aa5af0ccc20475ed2863603b.js"></script>






<script src="/js/sitedate.js"></script>


</body>
</html>
