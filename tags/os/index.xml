<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>OS on LeeReindeer&#39;s blog</title>
    <link>https://leer.moe/tags/os/</link>
    <description>Recent content in OS on LeeReindeer&#39;s blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cn</language>
    <lastBuildDate>Sun, 12 May 2019 18:31:21 +0000</lastBuildDate><atom:link href="https://leer.moe/tags/os/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>RTOSè®¾è®¡ä¸å®ç°</title>
      <link>https://leer.moe/post/ros/</link>
      <pubDate>Sun, 12 May 2019 18:31:21 +0000</pubDate>
      
      <guid>https://leer.moe/post/ros/</guid>
      <description>&lt;blockquote&gt;
&lt;p&gt;ä»‹ç»åŸºäº AVR çš„ RTOS çš„è®¾è®¡å’Œå®ç°ï¼Œåä¸º ROSã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/LeeReindeer/ROS&#34;&gt;GitHub åœ°å€&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;</description>
    </item>
    
    <item>
      <title>æ“ä½œç³»ç»Ÿ-å¤ä¹ æçº²</title>
      <link>https://leer.moe/post/os-review-map/</link>
      <pubDate>Wed, 02 Jan 2019 18:31:21 +0000</pubDate>
      
      <guid>https://leer.moe/post/os-review-map/</guid>
      <description></description>
    </item>
    
    <item>
      <title>æ“ä½œç³»ç»Ÿ-é“¶è¡Œå®¶ç®—æ³•</title>
      <link>https://leer.moe/post/os-banker-algorithm/</link>
      <pubDate>Tue, 01 Jan 2019 19:31:21 +0000</pubDate>
      
      <guid>https://leer.moe/post/os-banker-algorithm/</guid>
      <description>&lt;blockquote&gt;
&lt;p&gt;è¿™ç¯‡ç¬”è®°ä¸»è¦ä»‹ç»&lt;strong&gt;æ­»é”é¿å…ä¸­çš„é“¶è¡Œå®¶ç®—æ³•&lt;/strong&gt;çš„å®ç°ã€‚åŒæ ·æ˜¯å‚è€ƒä¹¦ä¸Šçš„ä¾‹å­å’Œä½¿ç”¨&lt;a href=&#34;https://gist.github.com/LeeReindeer/a0a78d29d2940dd5a958da67f0db30e8&#34;&gt;C++å®ç°&lt;/a&gt;çš„ã€‚ä½œä¸ºæ–°å¹´çš„ç¬¬ä¸€ç¯‡æ–‡ç« ğŸ‰ï¼Œæˆ‘ä¹Ÿå°è¯•äº†ä¸€äº›æ–°é²œçš„ä¸œè¥¿ï¼Œæ¯”å¦‚Markdownä¸­æ•°å­¦å…¬å¼ï¼ŒåŒæ—¶ä¸ºç®—æ³•æ‰¾äº†ä¸¤ä¸ªæµ‹è¯•ç”¨ä¾‹è¿›è¡Œæµ‹è¯•ã€‚&lt;/p&gt;
&lt;p&gt;å†™æ–‡ç« è€—æ—¶ï¼š1 hour&lt;/p&gt;
&lt;p&gt;ç¼–ç ï¼š1 hour&lt;/p&gt;
&lt;/blockquote&gt;</description>
    </item>
    
    <item>
      <title>æ“ä½œç³»ç»Ÿ-ç”µæ¢¯è°ƒåº¦ç®—æ³•</title>
      <link>https://leer.moe/post/os-elevator-algorithm/</link>
      <pubDate>Fri, 28 Dec 2018 18:31:21 +0000</pubDate>
      
      <guid>https://leer.moe/post/os-elevator-algorithm/</guid>
      <description>&lt;blockquote&gt;
&lt;p&gt;æœ€è¿‘åœ¨å¤ä¹ æ“ä½œç³»ç»Ÿï¼Œè€å¸ˆä¸è®²è®¾å¤‡ç®¡ç†è¿™ä¸€éƒ¨åˆ†ï¼Œè®©æˆ‘ä»¬è‡ªå­¦ï¼ŒæœŸæœ«è¦è€ƒ&lt;strong&gt;ç”µæ¢¯è°ƒåº¦ç®—æ³•&lt;/strong&gt;ã€‚è¿™ç¯‡æ–‡ç« åˆ†åˆ«ç”¨è‡ªç„¶è¯­è¨€ï¼Œæµç¨‹å›¾ï¼Œ&lt;a href=&#34;https://gist.github.com/LeeReindeer/95efbc79b18636236dca4625bb5b83d5&#34;&gt;C++è¯­è¨€&lt;/a&gt;æ¥æè¿°ç”µæ¢¯ç®—æ³•ï¼Œå…¶å®ç”µæ¢¯ç®—æ³•çœŸçš„å¾ˆç®€å•ğŸ˜¸&lt;/p&gt;
&lt;/blockquote&gt;</description>
    </item>
    
    <item>
      <title>Concurrent with Semaphore</title>
      <link>https://leer.moe/post/semaphore/</link>
      <pubDate>Thu, 18 Oct 2018 16:31:21 +0000</pubDate>
      
      <guid>https://leer.moe/post/semaphore/</guid>
      <description>&lt;h2 id=&#34;semaphore&#34;&gt;Semaphore&lt;/h2&gt;
&lt;p&gt;Dijkstra å¤§ä½¬æå‡ºäº†ä¸€ç§è§£å†³ä¸åŒçº¿ç¨‹ä¹‹å‰åŒæ­¥å’Œäº’æ–¥é—®é¢˜çš„æ–¹æ³•ã€‚è¿™ç§æ–¹æ³•å°±æ˜¯ PV æ“ä½œï¼Œå®ƒåŸºäº Semaphoreï¼ˆä¿¡å·é‡ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;å¯ä»¥æŠŠä¿¡å·é‡ç®€å•çœ‹æˆä¸€ä¸ªéè´Ÿæ•´æ•°ï¼Œåªèƒ½ä½¿ç”¨ä¸¤ç§æ“ä½œæ¥æ”¹å˜å®ƒçš„å€¼ï¼Œè¿™ä¸¤ç§æ“ä½œå°±æ˜¯ P å’Œ Vï¼Œç”¨ä¼ªä»£ç æè¿°å¦‚ä¸‹ï¼ˆä¸æ•™æã€Šæ“ä½œç³»ç»Ÿæ•™ç¨‹ã€‹ä¸Šä¸åŒï¼Œè¿™é‡Œçš„&lt;a href=&#34;https://stackoverflow.com/questions/20656295/what-is-general-semaphores-range&#34;&gt;ä¿¡å·é‡ä¸èƒ½ä¸ºè´Ÿå€¼&lt;/a&gt;ï¼‰ã€‚PV æ“ä½œçš„ä¼ªä»£ç å®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;P(s)&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span class=&#34;n&#34;&gt;P&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;p&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    	&lt;span class=&#34;n&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;--&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    	&lt;span class=&#34;n&#34;&gt;append&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;this&lt;/span&gt; &lt;span class=&#34;kr&#34;&gt;thread&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;to&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;list&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    	&lt;span class=&#34;n&#34;&gt;sleep&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;V(s)&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span class=&#34;n&#34;&gt;V&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;list&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;is&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;no&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;empty&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;list&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pop&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;wakeup&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;P å’Œ V çš„æ‰§è¡Œè¿‡ç¨‹éƒ½æ˜¯ä¸å¯æ‰“æ–­çš„ï¼Œå¹¶ä¸” P å’Œ V è¦æˆå¯¹çš„å‡ºç°ã€‚è¿™æ ·å°±ä¿è¯äº†ç¨‹åºä¸å¯èƒ½è¿›å…¥ä¿¡å·é‡ä¸ºè´Ÿå€¼çš„çŠ¶æ€ï¼Œå¯ä»¥åˆ©ç”¨è¿™ä¸ªç‰¹æ€§å®ç°è¿›ç¨‹ä¹‹é—´çš„äº’æ–¥å’ŒåŒæ­¥ã€‚&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>6.828 Homework 2:Shell</title>
      <link>https://leer.moe/post/6.828_hw2_shell/</link>
      <pubDate>Sat, 29 Sep 2018 16:31:21 +0000</pubDate>
      
      <guid>https://leer.moe/post/6.828_hw2_shell/</guid>
      <description>&lt;p&gt;è¿™æ¬¡çš„ä½œä¸šæ˜¯å®ç°ä¸€ä¸ªç®€å•çš„ shellã€‚é€šè¿‡é˜…è¯» &lt;a href=&#34;https://pdos.csail.mit.edu/6.828/2018/xv6/book-rev11.pdf&#34;&gt;xv6 book&lt;/a&gt; çš„ç¬¬é›¶ç« ï¼ŒåŸºæœ¬ä¸Šå°±å¯ä»¥å®ç°é¢˜ç›®ä¸­æ‰€è¯´çš„ä¸‰ä¸ªåŠŸèƒ½ï¼Œä¹Ÿæ˜¯shellçš„åŸºæœ¬åŠŸèƒ½ï¼šè¿è¡Œç®€å•çš„å‘½ä»¤ï¼Œè¾“å…¥è¾“å‡ºé‡å®šå‘ï¼Œç®¡é“ã€‚&lt;/p&gt;
&lt;p&gt;é¢˜ç›®æä¾›çš„&lt;code&gt;sh.c&lt;/code&gt;å·²ç»å®ç°äº†å‘½ä»¤çš„è§£æï¼ˆå¤§æ¦‚çœ‹äº†ä¸€ä¸‹æµç¨‹ï¼Œå¤§æ¦‚å°±æ˜¯ä¸ªé€’å½’ä¸‹é™è§£é‡Šå™¨å§ï¼Œè¿™æ¬¡ä½œä¸šæ— éœ€å…³å¿ƒè¿™ä¸ªï¼‰ï¼Œåªéœ€è¦å®Œæˆ&lt;code&gt;runcmd&lt;/code&gt;å‡½æ•°ä¸­ç¼ºå°‘çš„ä»£ç å³å¯ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æµç¨‹&#34;&gt;æµç¨‹&lt;/h2&gt;
&lt;p&gt;å…ˆä» &lt;code&gt;main&lt;/code&gt; å‡½æ•°çœ‹èµ·ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;k&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;char&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;buf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;100&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;
  &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;fd&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;r&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;

  &lt;span class=&#34;c1&#34;&gt;// Read and run input commands.
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;  &lt;span class=&#34;k&#34;&gt;while&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;getcmd&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;buf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;sizeof&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;buf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;buf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;sc&#34;&gt;&amp;#39;c&amp;#39;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;buf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;sc&#34;&gt;&amp;#39;d&amp;#39;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;buf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;sc&#34;&gt;&amp;#39; &amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
      &lt;span class=&#34;c1&#34;&gt;// Clumsy but will have to do for now.
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;      &lt;span class=&#34;c1&#34;&gt;// Chdir has no effect on the parent if run in the child.
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;      &lt;span class=&#34;n&#34;&gt;buf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;strlen&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;buf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// chop \n
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;      &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;chdir&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;buf&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;fprintf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stderr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;cannot cd %s&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;buf&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
      &lt;span class=&#34;k&#34;&gt;continue&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fork1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
      &lt;span class=&#34;n&#34;&gt;runcmd&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;parsecmd&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;buf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;));&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;wait&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;r&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
  &lt;span class=&#34;n&#34;&gt;exit&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;code&gt;main&lt;/code&gt; å‡½æ•°å¾ªç¯è°ƒç”¨ &lt;code&gt;getcmd&lt;/code&gt;ä» console è¯»å–å‘½ä»¤ï¼Œå¯¹ &lt;code&gt;cd &lt;/code&gt;å‘½ä»¤åšäº†ç‰¹åˆ«å¤„ç†ã€‚ä¹‹å&lt;code&gt;fork&lt;/code&gt;åˆ›å»ºå­è¿›ç¨‹ï¼Œè°ƒç”¨&lt;code&gt;parsecmd&lt;/code&gt;è§£æå‘½ä»¤ï¼Œå†è°ƒç”¨&lt;code&gt;runcmd&lt;/code&gt;æ‰§è¡Œå¾—åˆ°çš„å‘½ä»¤ã€‚æœ€åè°ƒç”¨&lt;code&gt;wait&lt;/code&gt;ç­‰å¾…å­è¿›ç¨‹ç»“æŸã€‚&lt;code&gt;main&lt;/code&gt; çš„åŸºæœ¬æµç¨‹å°±è¿™æ ·ã€‚&lt;/p&gt;</description>
    </item>
    
  </channel>
</rss>
